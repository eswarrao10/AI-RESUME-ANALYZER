<!DOCTYPE html>
<html>
<head>
<title>AI Resume Dashboard</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>

body{
margin:0;
font-family:'Inter';
background:#f3f6fb;
color:#1e293b;
}

/* ---------- MAIN WRAPPER ---------- */

.wrapper{
max-width:1300px;
margin:40px auto;
padding:0 30px;
}

/* ---------- HEADER ---------- */

.header{
font-size:28px;
font-weight:700;
margin-bottom:30px;
text-align:center;
}

/* ---------- SCORE GRID ---------- */

.score-grid{
display:grid;
grid-template-columns:repeat(3,1fr);
gap:20px;
margin-bottom:40px;
}

.card{
background:white;
padding:25px;
border-radius:16px;
box-shadow:0 10px 25px rgba(0,0,0,0.05);
transition:0.3s;
}

.card:hover{
transform:translateY(-5px);
}

.score{
font-size:32px;
font-weight:700;
margin-top:10px;
}

/* ---------- CHART ---------- */

.chart-box{
background:white;
padding:30px;
border-radius:16px;
box-shadow:0 10px 25px rgba(0,0,0,0.05);
text-align:center;
margin-bottom:40px;
}

/* ---------- SECTION CARDS ---------- */

.section{
background:white;
padding:25px;
border-radius:16px;
box-shadow:0 10px 25px rgba(0,0,0,0.05);
margin-bottom:25px;
}

.section h3{
margin-bottom:15px;
}

/* ---------- SKILL TAGS ---------- */

.tag{
display:inline-block;
padding:8px 15px;
border-radius:30px;
margin:5px;
font-size:14px;
font-weight:600;
}

.matched{
background:#e6f9f0;
color:#16a34a;
}

.missing{
background:#ffeaea;
color:#dc2626;
}

/* ---------- BUTTONS ---------- */

.btn{
padding:14px 28px;
border:none;
border-radius:10px;
cursor:pointer;
font-weight:600;
}

.download{
background:#16a34a;
color:white;
}

.download:hover{
background:#15803d;
}

.resume-link{
display:block;
margin-bottom:15px;
text-align:center;
color:#2563eb;
text-decoration:none;
font-weight:600;
}

.center{
text-align:center;
}

</style>
</head>

<body>

<div class="wrapper">

<div class="header">
AI Resume Analytics Dashboard üìä
</div>

<!-- SCORE CARDS -->
<div class="score-grid">

<div class="card">
Match Score
<div class="score" style="color:#2563eb;">
{{ resume.score }}%
</div>
</div>

<div class="card">
Skill Coverage
<div class="score" style="color:#16a34a;">
{{ resume.coverage }}%
</div>
</div>

<div class="card">
Skill Gap
<div class="score" style="color:#dc2626;">
{{ resume.gap }}%
</div>
</div>

</div>

<!-- CHART -->
<div class="chart-box">
<img src="data:image/png;base64,{{ chart }}" width="320">
</div>

<!-- ROLES -->
<div class="section">
<h3>üéØ Recommended Job Roles</h3>

<ul>
{% for role in resume.recommended_roles %}
<li>{{ role }}</li>
{% empty %}
<li>No roles detected</li>
{% endfor %}
</ul>

</div>

<!-- MATCHED SKILLS -->
<div class="section">
<h3>‚úÖ Matched Skills</h3>

{% for skill in resume.matched_skills %}
<span class="tag matched">{{ skill }}</span>
{% empty %}
<p>No matched skills</p>
{% endfor %}

</div>

<!-- MISSING SKILLS -->
<div class="section">
<h3>‚ùå Missing Skills</h3>

{% for skill in resume.missing_skills %}
<span class="tag missing">{{ skill }}</span>
{% empty %}
<p>No missing skills</p>
{% endfor %}

</div>

<!-- LEARNING -->
<div class="section">
<h3>üìö Learning Resources</h3>

<ul>
{% for skill in resume.missing_skills %}
<li>
{{ skill }} ‚Üí
<a href="https://www.youtube.com/results?search_query={{ skill }} tutorial" target="_blank">
Learn Here
</a>
</li>
{% empty %}
<li>No learning required üéâ</li>
{% endfor %}
</ul>

</div>

<!-- RESUME + DOWNLOAD -->
<div class="center">

{% if resume %}
<a href="{{ resume.file.url }}" target="_blank" class="resume-link">
View Uploaded Resume
</a>

<a href="{% url 'download_report' resume.id %}">
<button class="btn download">Download Analysis Report</button>
</a>
{% endif %}

</div>

</div>

</body>
</html>
